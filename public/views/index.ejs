<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Homepage</title>
    <link href="https://fonts.googleapis.com/css?family=Press+Start+2P" rel="stylesheet">
    <link rel="stylesheet" href="/styles/index.css">
    <script type="text/javascript" src="js/index.js"></script>
    <script type="text/javascript">
      start(<%- JSON.stringify(courses) %>); // Function of index.js. Declares needed variables.
    </script>
  </head>
  <body>
    <div class="courses">
      <span class="title">All Courses</span>
      <ul> <!-- TODO -->
        <% let index = 0 %>
        <li><%= courses[0][0]  %>
        <% for (let i = 1; i < courses[0].length; i++) { %>
          <% if (courses[3][i] > index) { %>
            <% index = courses[3][i] %>
            <ul><li><%= courses[0][i] %>
          <% } else if (courses[3][i] < index) { %>
            <% index = courses[3][i] %>
            </li></ul></li><li><%= courses[0][i] %>
          <% } else { %>
            </li><li><%= courses[0][i] %>
          <% } %>
        <% } %>
        </li>
      </ul>
    </div>
    <div class="middle">
      <div class="domainname">CSAcademy</div>
      <div class="search">
        <input type="text" name="searchInput" placeholder="Search for courses here..." id="searchBar" oninput="showSuggested();" onfocus="showSuggested();" onblur="hideSuggested();">
        <div id="suggestions" onmousedown="focused = true;" onblur="hideSuggested();"></div>
      </div>
    </div>
    <div class="mostPopular">
      <span class="title">Most Popular Courses</span>
      <ul>
        <% for (course of mostPopular) { %>
          <li><%= course %></li>
        <% } %>
      </ul>
    </div>
    <%- include partials/footer.ejs %>
  </body>
</html>
